!function(e){var t={};function n(i){if(t[i])return t[i].exports;var o=t[i]={i:i,l:!1,exports:{}};return e[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(i,o,function(t){return e[t]}.bind(null,o));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";n.r(t);var i={BTN_TITLE:"Feedback",FORM_NAME:"Имя",FORM_EMAIL:"Электронная почта",FORM_BTN:"Отправить",FORM_TEXT:"Ошибка"};const o=new class{constructor(){this.params={initDomId:"",endpoint:"",initBtn:null,initBtnTitle:i.BTN_TITLE,doc:{},isInit:!1}}checkParams(e){return e&&e.id?(this.params.initDomId=e.id,e&&e.initBtnTitle&&(this.params.initBtnTitle=e.initBtnTitle),e&&e.endpoint?(this.params.endpoint=e.endpoint,!0):(console.log("check endpoint"),!1)):(console.log("check id"),!1)}getFormTemplate(){return['<div class="fbSD_form_wrapper">','<a id="closeBtn" class="close_btn">X</a>',"<div>",'<label id="nameFeedbackFormLabel">'+i.FORM_NAME+"</label>",'<input type="text" id="nameFeedbackForm" name="name"/>',"</div>","<div>","<label>"+i.FORM_EMAIL+"</label>",'<input type="text" id="emailFeedbackForm" name="email"/>',"</div>","<div>","<label>"+i.FORM_TEXT+"</label>",'<textarea name="textError" id="textFeedbackForm" rows="3"></textarea>',"</div>",'<button type="submit" id="formSubmit">'+i.FORM_BTN+"</button>","</div>"].join("")}init(e,t){if(this.params.doc=t?t.window.document:window.document,this.checkParams(e)){const t=this.params.doc.getElementById(e.id);t&&(this.params.initBtn=this.params.doc.createElement("button"),this.params.initBtn.innerHTML=this.params.initBtnTitle,t.appendChild(this.params.initBtn),this.initOnBtnClick())}else console.log("Not initialized")}initOnBtnClick(){this.params.initBtn.onclick=this.loadForm.bind(this)}initOnFormClick(){this.params.doc.getElementById("formSubmit").onclick=this.sendForm.bind(this)}getFormValues(){const e=document.getElementById("nameFeedbackForm").value,t=document.getElementById("emailFeedbackForm").value,n=document.getElementById("textFeedbackForm").value;return e&&n?{name:e,email:t||"",text:n}:{name:"",email:"",text:""}}sendForm(e,t){e&&(e.preventDefault(),e.stopPropagation());let n={};n=t||this.getFormValues();let i=new XMLHttpRequest,o="name="+encodeURIComponent(n.name)+"&email="+encodeURIComponent(n.email)+"&text="+encodeURIComponent(n.text);return i.open("POST",this.params.endpoint,!0),i.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),i.send(o),!1}initEndPoint(e){this.params.endpoint=e}loadForm(){if(!0===this.params.isInit)return!1;let e=this.params.doc.createElement("form");e.setAttribute("id","formId"),e.innerHTML=this.getFormTemplate(),this.params.doc.getElementById(this.params.initDomId).appendChild(e),this.initOnFormClick(),this.initOnCloseClick(),this.params.isInit=!0}initOnCloseClick(){this.params.doc.getElementById("closeBtn").onclick=this.closeForm.bind(this)}closeForm(){const e=this.params.doc.getElementById("formId");for(;e.hasChildNodes();)e.removeChild(e.lastChild);e.remove(),this.params.isInit=!1}};Object.freeze(o),window.feedbackSD=o;t.default=o}]);